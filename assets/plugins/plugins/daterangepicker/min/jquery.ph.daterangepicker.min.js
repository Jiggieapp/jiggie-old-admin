!function(t,e){function a(e,a,n){function r(){f="drp_autogen"+o++,t('label[for="'+e.attr("id")+'"]').attr("for",f)}function i(){var e,a,r=n.altFormat;return e=t.datepicker.formatDate(r,n.initStart.startOf("day").toDate()),a=t.datepicker.formatDate(r,n.initEnd.startOf("day").toDate()),e+n.rangeSplitter+a}function l(){r(),u=t('<button type="button"></button>').addClass(a+"-triggerbutton").attr({title:e.attr("title"),tabindex:e.attr("tabindex"),id:f}).button({icons:{secondary:n.icon},label:i()})}function d(){return u.button("option","label")}function s(t){u.button("option","label",t)}function c(){e.val("").change(),s(n.initialText)}var u,f;return l(),{getElement:function(){return u},getLabel:d,setLabel:s,reset:c}}function n(e,a,n,r,i,l){function d(){var e,d,s=a.altFormat;e=t.datepicker.formatDate(s,a.initStart.startOf("day").toDate()),d=t.datepicker.formatDate(s,a.initEnd.startOf("day").toDate()),o=t("<div></div>").addClass("range_inputs col-md-9 col-sm-12 npxx"),t('<label class=" control-label pull-left pt6">From </label>').appendTo(o),$box1=t('<div class="col-md-3 npxx  col-xs-4">'),$box2=t('<div class="col-md-3 npxx  col-xs-4">'),t('<input class="form-control  col-md-3 disabled"  type="text" name="startd" id="startd" value="'+e+'" />').data("dateStart",this.dateStart).data("dateEnd",this.dateEnd).click(n).keyup(i).appendTo($box1),t('<input class="form-control col-md-3 disabled" type="text"  name="endd" id="endd" value="'+d+'"/>').data("dateStart",this.dateStart).data("dateEnd",this.dateEnd).click(r).keyup(l).appendTo($box2),o.append($box1),t('<label class=" control-label pull-left p6">To </label>').appendTo(o),o.append($box2)}var o;return d(),{getElement:function(){return o}}}function r(e,a,n){function r(){function e(t,e){return e=a.initSel==t.text?'class="active"':""}i=t("<div></div>").addClass("ranges"),l=t("<ul></ul>"),t.each(a.presetRanges,function(){t("<li "+e(this)+' data-text="'+this.text+'"  ><a href="#">'+this.text+"</a></li>").data("dateStart",this.dateStart).data("dateEnd",this.dateEnd).click(n).appendTo(l)}),i.append(l)}var i,l;return r(),{getElement:function(){return i}}}function i(e,a){function n(){c=t("<div></div>",{"class":"calendar ui-widget-content"}),c.datepicker(t.extend({},a.datepickerOptions,{beforeShowDay:i,onSelect:r})),l()}function r(e,n){var r=a.datepickerOptions.dateFormat||t.datepicker._defaults.dateFormat,i=t.datepicker.parseDate(r,e),l=a.altFormat;selectedDate1=t.datepicker.formatDate(l,i),t("#e1").attr("data-sel","Custom"),a.initSel="Custom",1!=a.initclick&&(t(".ranges").find("ul").find("li").removeClass("active"),t(".ranges").find("ul").find("li").last().addClass("active"),a.initclick=!0,t("#startd").removeClass("disabled").addClass("active"),t("#endd").removeClass("disabled").removeClass("active")),sel_start=moment(t("#startd").val()).startOf("day").toDate(),sel_end=moment(t("#endd").val()).startOf("day").toDate(),t("#startd").hasClass("active")?(i<u.end&&sel_end>i?(u.start=i,t("#startd").val(selectedDate1),c.datepicker("option","beforeShowDay",function(t){return t<u.start?[!1,"","Unavailable"]:t>=u.start&&sel_end>=t?[!0,"ui-state-highlight","Available"]:t>sel_end&&t<=a.autorange.end.startOf("day").toDate()?[!0,"","Available"]:[!1,"","Unavailable"]})):(console.log(i,"sel"),u.start=i,u.end=i,t("#endd").val(selectedDate1),t("#startd").val(selectedDate1),c.datepicker("option","beforeShowDay",function(t){return i>t?[!1,"","Unavailable"]:t>i?[!0,"","Available"]:[!0,"ui-state-highlight","Available"]})),t("#startd").removeClass("active"),t("#endd").addClass("active")):t("#endd").hasClass("active")?(console.log("end"),i>u.start&&sel_start>i?(u.end=i,t("#endd").val(selectedDate1)):(u.end=i,t("#endd").val(selectedDate1)),t("#startd").addClass("active"),t("#endd").removeClass("active"),c.datepicker("option","beforeShowDay",function(t){return sel_start>t?[!0,"","Available"]:t>=sel_start&&t<=u.end?[!0,"ui-state-highlight","Available"]:t>u.end&&t<=a.autorange.end.startOf("day").toDate()?[!0,"","Available"]:[!1,"","Unavailable"]})):(console.log("none"),!u.start||u.end?(u.start=i,u.end=null,t("#startd").val(selectedDate1),t("#endd").val("")):i<u.start?(u.end=u.start,t("#endd").val(t.datepicker.formatDate(l,u.start)),u.start=i,t("#startd").val(selectedDate1)):(u.end=i,t("#endd").val(selectedDate1))),a.datepickerOptions.hasOwnProperty("onSelectDay")&&a.datepickerOptions.onSelectDay(e,n)}function i(t){var e=[!0,u.start&&(+t===+u.start||u.end&&u.start<=t&&t<=u.end)?"ui-state-highlight":""],n=[!0,""];return a.datepickerOptions.hasOwnProperty("beforeShowDay")&&(n=a.datepickerOptions.beforeShowDay(t)),[e[0]&&n[0],e[1]+n[1]]}function l(){setTimeout(function(){o(),l()},moment().endOf("day")-moment())}function d(){u.end&&c.datepicker("setDate",u.end)}function o(){c.datepicker("refresh"),c.datepicker("setDate",null)}function s(){u={start:null,end:null},o()}var c,u={start:null,end:null};return n(),{getElement:function(){return c},scrollToRangeStart:function(){return d()},getRange:function(){return u},setRange:function(t){u=t,o()},refresh:o,reset:s}}function l(e,a,n){function r(){d=t('<button id="picapply" type="button" class=""></button>').text(a.applyButtonText).button(),o=t('<button type="button" class="ml5"></button>').text(a.cancelButtonText).button(),l=t("<div></div>").addClass(e+"-buttonpanel").append(d).append(o),i()}function i(){n&&(d.click(n.onApply),o.click(n.onCancel))}var l,d,o;return r(),{getElement:function(){return l}}}function d(d,o){function s(){F=a(d,B,o),P=r(B,o,D),W=i(B,o),U=n(B,o,S,E,k,O),W.setRange({start:o.initStart.startOf("day").toDate(),end:o.initEnd.startOf("day").toDate()}),u.numberOfMonths=o.datepickerOptions.numberOfMonths,u.numberOfMonths instanceof Array&&(o.autoFitCalendars=!1),L=l(B,o,{onApply:function(){w(),b()},onCancel:function(){w(),h()}}),c(),u(),h(),p()}function c(){Y=t("<div></div>",{"class":B+"  dropdown-menu opensleft"}).append(t("<div></div>",{"class":" "}).append(P.getElement()).append(W.getElement().append(U.getElement()))).append(t('<div class="ui-helper-clearfix"></div>').append(L.getElement())).hide(),d.hide().after(F.getElement()),T=t("<div></div>",{"class":"ui-front "+B+"-mask"}).hide(),t("body").append(T).append(Y)}function u(){if(o.autoFitCalendars){var a=t(e).width(),n=Y.outerWidth(!0),r=W.getElement(),i=r.datepicker("option","numberOfMonths"),l=i;if(n>a){for(;i>1&&Y.outerWidth(!0)>a;)r.datepicker("option","numberOfMonths",--i);i!==l&&(u.monthWidth=(n-Y.outerWidth(!0))/(l-i))}else for(;i<u.numberOfMonths&&a-Y.outerWidth(!0)>=u.monthWidth;)r.datepicker("option","numberOfMonths",++i);x(),J=!1}}function f(){Y.remove(),F.getElement().remove(),d.show()}function p(){F.getElement().click(M),F.getElement().keydown(_),T.click(w),t(e).resize(function(){N?u():J=!0})}function m(e){var a=o.dateFormat;return t.datepicker.formatDate(a,e.start)+o.rangeSplitter+t.datepicker.formatDate(a,e.end)}function v(e){var a=o.altFormat,n={};return n.start=t.datepicker.formatDate(a,e.start),n.end=t.datepicker.formatDate(a,e.end),JSON.stringify(n)}function g(e){var a=o.altFormat,n=null;if(e)try{n=JSON.parse(e,function(e,n){return e?t.datepicker.parseDate(a,n):n})}catch(r){}return n}function h(){var t=g(d.val());t?(F.setLabel(m(t)),W.setRange(t)):W.reset()}function b(t){var e=t||W.getRange();e.start&&(e.end||(e.end=e.start),t&&W.setRange(e),F.setLabel(m(e)),d.val(v(e)).change(),o.onChange&&o.onChange())}function y(){return g(d.val())}function C(){F.reset(),W.reset()}function D(){var e=t(this),a=e.data("dateStart")().startOf("day").toDate(),n=e.data("dateEnd")().startOf("day").toDate();e.parent().find("li").removeClass("active"),e.addClass("active"),t("#e1").attr("data-sel",e.data("text")),o.initSel=e.data("text");var r=o.altFormat;return W.setRange({start:a,end:n}),t("#startd").val(t.datepicker.formatDate(r,a)),t("#endd").val(t.datepicker.formatDate(r,n)),$calendar=W.getElement(),$calendar.datepicker("option","beforeShowDay",function(t){return a>t?[!0,"","Available"]:t>=a&&n>=t?[!0,"ui-state-highlight","Available"]:t>=n?[!0,"","Available"]:[!1,"","Unavailable"]}),"Custom"==t(this).attr("data-text")?(t("#startd").removeClass("disabled").addClass("active"),t("#endd").removeClass("disabled").removeClass("active")):(t("#startd").addClass("disabled").removeClass("active"),t("#endd").addClass("disabled").removeClass("active")),o.applyOnMenuSelect&&(w(),b()),!1}function k(){var e=moment(t(this).val(),"MM-DD-YYYY"),a=moment(t("#endd").val(),"MM-DD-YYYY");re=/^\d{1,2}\/\d{1,2}\/\d{4}$/;var n=L.getElement();$calendar=W.getRange(),e.isValid()&&e>=o.autorange.start.startOf("day").toDate()&&a>=e&&t(this).val().match(re)?(n.find("#picapply").prop("disabled",!1),t(this).removeClass("error"),$calendar1=W.getElement(),$calendar1.datepicker("option","beforeShowDay",function(t){return e>t?[!0,"","Available"]:t>=e&&a>=t?[!0,"ui-state-highlight","Available"]:t>=a?[!0,"","Available"]:[!1,"","Unavailable"]}),W.setRange({start:e.startOf("day").toDate(),end:a.startOf("day").toDate()})):(n.find("#picapply").prop("disabled",!0),t(this).addClass("error"))}function O(){var e=moment(t(this).val(),"MM-DD-YYYY"),a=moment(t("#startd").val(),"MM-DD-YYYY");re=/^\d{1,2}\/\d{1,2}\/\d{4}$/;var n=L.getElement();$calendar=W.getRange(),e.isValid()&&e<=o.autorange.end.startOf("day").toDate()&&e>=a&&t(this).val().match(re)?(n.find("#picapply").prop("disabled",!1),t(this).removeClass("error"),$calendar1=W.getElement(),$calendar1.datepicker("option","beforeShowDay",function(t){return a>t?[!0,"","Available"]:t>=a&&e>=t?[!0,"ui-state-highlight","Available"]:t>=e?[!0,"","Available"]:[!1,"","Unavailable"]}),W.setRange({start:a.startOf("day").toDate(),end:e.startOf("day").toDate()})):(n.find("#picapply").prop("disabled",!0),t(this).addClass("error"))}function S(){$calendar=W.getElement(),sel_start=moment(t("#startd").val()).startOf("day").toDate(),sel_end=moment(t("#endd").val()).startOf("day").toDate(),$calendar.datepicker("option","beforeShowDay",function(t){return sel_start>t?[!0,"","Available"]:t>=sel_start&&sel_end>=t?[!0,"ui-state-highlight","Available"]:t>=sel_end?[!0,"","Available"]:[!1,"","Unavailable"]}),t("#e1").attr("data-sel","Custom"),o.initSel="Custom",t("#endd").removeClass("active").removeClass("disabled"),t(this).addClass("active").removeClass("disabled"),t(".ranges").find("ul").find("li").removeClass("active"),t(".ranges").find("ul").find("li").last().addClass("active"),o.initclick=!0}function E(){$calendar=W.getElement(),sel_start=moment(t("#startd").val()).startOf("day").toDate(),sel_end=moment(t("#endd").val()).startOf("day").toDate(),$calendar.datepicker("option","beforeShowDay",function(t){return sel_start>t?[!0,"","Available"]:t>=sel_start&&sel_end>=t?[!0,"ui-state-highlight","Available"]:t>=sel_end?[!0,"","Available"]:[!1,"","Unavailable"]}),t("#e1").attr("data-sel","Custom"),o.initSel="Custom",t("#startd").removeClass("active").removeClass("disabled"),t(this).addClass("active").removeClass("disabled"),t(".ranges").find("ul").find("li").removeClass("active"),t(".ranges").find("ul").find("li").last().addClass("active"),o.initclick=!0}function x(){Y.position({my:"left top",at:"left bottom"+(o.verticalOffset<0?o.verticalOffset:"+"+o.verticalOffset),of:F.getElement(),collision:"flipfit flipfit",using:function(t,e){var a,n,r=e.element.left+e.element.width/2,i=e.target.left+e.target.width/2,l=G,d=e.element.top+e.element.height/2,s=e.target.top+e.target.height/2,c=H;G=r>i?j:V,G!==l&&(o.mirrorOnCollision&&(a=G===V?P:W,Y.children().first().append(a.getElement())),Y.removeClass(B+"-"+q[l]),Y.addClass(B+"-"+q[G])),Y.css({left:t.left,top:t.top}),H=d>s?Q:z,H!==c&&(null!==c&&F.getElement().removeClass(B+"-"+q[c]),F.getElement().addClass(B+"-"+q[H])),n=H===Q&&e.element.top-e.target.top!==e.target.height+o.verticalOffset||H===z&&e.target.top-e.element.top!==e.element.height+o.verticalOffset,F.getElement().toggleClass(B+"-vfit",n)}})}function R(t){t.preventDefault(),t.stopPropagation()}function _(e){switch(e.which){case t.ui.keyCode.UP:case t.ui.keyCode.DOWN:return R(e),A(),void 0;case t.ui.keyCode.ESCAPE:return R(e),w(),void 0;case t.ui.keyCode.TAB:return w(),void 0}}function A(){N||(F.getElement().addClass(B+"-active"),T.show(),N=!0,J&&u(),W.setRange({start:o.initStart.startOf("day").toDate(),end:o.initEnd.startOf("day").toDate()}),W.scrollToRangeStart(),Y.show(),x()),o.onOpen&&o.onOpen()}function w(){N&&(Y.hide(),T.hide(),F.getElement().removeClass(B+"-active"),N=!1),o.onClose&&o.onClose()}function M(){N?w():A()}function $(){return Y}var Y,T,F,P,U,W,L,B="daterangepicker",N=!1,J=!1,V=0,j=1,z=2,Q=3,q=["left","right","top","bottom"],G=j,H=null;return s(),{toggle:M,destroy:f,open:A,close:w,setRange:b,getRange:y,clearRange:C,reset:h,getContainer:$}}var o=0;t.widget("ph.daterangepicker1",{version:"0.3.3",options:{presetRanges:[{text:"Today",dateStart:function(){return moment()},dateEnd:function(){return moment()}},{text:"Yesterday",dateStart:function(){return moment().subtract("days",1)},dateEnd:function(){return moment().subtract("days",1)}},{text:"Last 7 Days",dateStart:function(){return moment().subtract("days",6)},dateEnd:function(){return moment()}},{text:"Last Week (Mo-Su)",dateStart:function(){return moment().subtract("days",7).isoWeekday(1)},dateEnd:function(){return moment().subtract("days",7).isoWeekday(7)}},{text:"Month to Date",dateStart:function(){return moment().startOf("month")},dateEnd:function(){return moment()}},{text:"Previous Month",dateStart:function(){return moment().subtract("month",1).startOf("month")},dateEnd:function(){return moment().subtract("month",1).endOf("month")}},{text:"Year to Date",dateStart:function(){return moment().startOf("year")},dateEnd:function(){return moment()}}],verticalOffset:0,initialText:"Select date range...",icon:"ui-icon-triangle-1-s",applyButtonText:"Apply",cancelButtonText:"Cancel",initStart:null,initEnd:null,initSel:"All",initclick:!1,autorange:"",rangeSplitter:" - ",dateFormat:"mm/dd/yy",altFormat:"mm/dd/yy",mirrorOnCollision:!0,applyOnMenuSelect:!0,autoFitCalendars:!0,onOpen:null,onClose:null,onChange:null,datepickerOptions:{numberOfMonths:3,maxDate:0}},_create:function(){this._dateRangePicker=d(this.element,this.options)},_destroy:function(){this._dateRangePicker.destroy()},open:function(){this._dateRangePicker.open()},close:function(){this._dateRangePicker.close()},setRange:function(t){this._dateRangePicker.setRange(t)},getRange:function(){return this._dateRangePicker.getRange()},clearRange:function(){this._dateRangePicker.clearRange()},widget:function(){return this._dateRangePicker.getContainer()}})}(jQuery,window);