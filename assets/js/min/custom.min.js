function chatDesc(){}var date=new Date;$(".datepicker_event").datepicker({changeMonth:!0,changeYear:!0,yearRange:date.getFullYear()+" : 2044",minDate:"+0d",onSelect:function(){$(".datepicker_event").trigger("blur")}}),$(".datepicker").datepicker({changeMonth:!0,changeYear:!0,yearRange:"1960:"+(new Date).getFullYear(),maxDate:"+0d",onSelect:function(){$(".datepicker").trigger("blur")}}),$("[data-rel=timepicker]").timepicker().on("hide.timepicker",function(){$("[data-rel=timepicker]").trigger("blur")}),$("[data-rel=eventtimepicker]").timepicker().on("hide.timepicker",function(){$("[data-rel=timepicker]").trigger("blur");var e=new TimeShift.OriginalDate($(".event_range_start").val()+" "+$("#starttime").val());localendtime=e.setHours(e.getHours()+parseInt($("#event_time").val())),$("#endtime ").val(dateFormats(localendtime,"mmm dd,yyyy h:MM tt")),$("#end_time ").val(dateFormats(localendtime,"mmm dd,yyyy h:MM tt"))});var bestPictures=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("email"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:base_url+"admin/hostings/searchuser/%QUERY",wildcard:"%QUERY"}});bestPictures.initialize(),$("input#uemail").typeahead(null,{name:"email",display:"email",source:bestPictures,templates:{empty:['<div class="empty-message">',"No users match the current query","</div>"].join("\n"),suggestion:function(e){return'<span class="col-xs-12"><span class="col-xs-2"><img   alt="image"  src="'+base_url+"timthumb1.php?src="+encodeURIComponent(e.profile_image_url)+'&w=50&q=100&h=50" /></span><span class="col-xs-10"><strong>'+e.first_name+" "+e.last_name+"</strong><p>"+e.email+"</p></span></span>"}}}),$("input#uemail").on("typeahead:selected",function(){$("input#uemail").trigger("blur")}),$(document).ready(function(){$(".file1").fileinput({showUpload:!1,allowedFileTypes:["image"],allowedFileExtensions:["jpg","png"],maxFileSize:2e3}),$.fn.editable.defaults.mode="inline",$(".get_modal_block").on("click",function(){var e=base_url+"admin/blocklists/conversation/"+Math.random(),a=this.id,r=a.split("_"),t=r[1];$.ajax({type:"POST",url:e,data:{u2:$(".conversation_"+t).attr("user_2"),u1:$(".conversation_"+t).attr("user_1"),channel:$(".conversation_"+t).attr("channel_id")},success:function(e){$(".modal-body").html(e)}})}),$("[name='gender'],[name='venue_status'],[name='verified_host'],[name='suspend_user'],[name='is_recurring'],[name='is_promoter'],[name='promoter'],[name='hstatus']").bootstrapSwitch(),$(".save_data_element").click(function(){var e=this.id,a=e.split("_"),r=a[1],t=base_url+"admin/hostings/save/"+Math.random();if("recurring"==r||"promoter"==r||"hstatus"==r)if($("#"+r).is(":checked"))var i=1;else var i=0;else var i=$("#"+r).val();"date"==r&&(i=$("#input_"+r).val()),$.ajax({type:"POST",url:t,data:{data:i,hosting:$(".panel-body").attr("hosting_id"),label:r},success:function(e){$("#view_"+r).show(),$("#update_"+r).hide(),"D"==e?$("#data_error").text("Venue already booked"):"F"==e?$("#data_error").text("Updated Failed"):($("#p_"+r).html(e),$("#data_error").text(""))}})}),$(".icheck").click(function(){var e=base_url+"admin/user/save_gender/"+Math.random(),a=$(this).val();null!=$(".panel-body").attr("user_id")&&$.ajax({type:"POST",url:e,data:{data:a,user:$(".panel-body").attr("user_id")},success:function(){}})}),$("#email").blur(function(){if(""!=$("#email").val()){var e=base_url+"admin/user/check_email/"+Math.random(),a=$(this).val();$.ajax({type:"POST",url:e,data:{email:a},success:function(e){var a=jQuery.parseJSON(e);0==a.status?($("#email_div").append("<label for='email_error' class='error1'>Email already exists</label>"),$("#email_div").find("span").text(""),$("#email_verified").val(0)):2==a.status?($("#email_div").append("<label for='email_error' class='error1'>Invalid Email</label>"),$("#email_div").find("span").text(""),$("#email_verified").val(0)):($("#email_verified").val(1),$("label[for=email_error]").remove(""))}})}$("label[for=email_error]").remove("")}),$("#name").blur(function(){}),$("#admin_email").blur(function(){if(""!=$("#email").val()){var e=base_url+"admin/adminuser/check_email/"+Math.random(),a=$(this).val();$.ajax({type:"POST",url:e,data:{email:a},success:function(e){var a=jQuery.parseJSON(e);0==a.status?($("#email_div").append("<label for='email_error' class='error1'>Email already exists</label>"),$("#email_div").find("span").text(""),$("#email_verified").val(0)):2==a.status?($("#email_div").append("<label for='email_error' class='error1'>Invalid Email</label>"),$("#email_div").find("span").text(""),$("#email_verified").val(0)):($("#email_verified").val(1),$("label[for=email_error]").remove(""))}})}$("label[for=email_error]").remove("")}),$("#venue_name_create").blur(function(){if(""!=$("#venue_name_create").val()){var e=base_url+"admin/venue/check_venue/"+Math.random(),a=$(this).val();$.ajax({type:"POST",url:e,data:{name:a},success:function(e){var a=jQuery.parseJSON(e);0==a.status?($("#venue_name_div").append("<label for='vname_error' class='error1'>Venue already exists</label>"),$("#venue_name_div").find("span").text(""),$("#email_verified").val(0)):($("#email_verified").val(1),$("label[for=vname_error]").remove(""))}})}$("label[for=vname_error]").remove("")}),$(function(){$('input[type="checkbox"]').change(function(){var e=$(this).attr("id");$(this).is(":checked")?$("#ul_"+e).closest("ul").find("input[type=checkbox]").prop("checked",this.checked):$("#ul_"+e).closest("ul").find("input[type=checkbox]").prop("checked",!1)})}),$("input[name='admin_suspend_user']").on("switchChange.bootstrapSwitch",function(e,a){var r=base_url+"admin/adminuser/suspend_user/"+Math.random(),t=1==a?1:0;null!=$(".panel-body").attr("adminuser_id")&&$.ajax({type:"POST",url:r,data:{data:t,user:$(".panel-body").attr("adminuser_id")},success:function(){}})}),$(".admin_edit_user").editable({type:"text",pk:1,url:base_url+"admin/adminuser/save/"+$(".panel-body").attr("adminuser_id"),title:"Enter username"}),$("[name='admin_suspend_user']").bootstrapSwitch()}),$("#adminuser_det").validate({highlight:function(e){jQuery(e).closest(".form-group").removeClass("has-success").addClass("has-error")},success:function(e){jQuery(e).closest(".form-group").removeClass("has-error"),$("#validateForm").submit()},errorElement:"span",errorClass:"help-block jq-validate-error",rules:{password:{required:!0,minlength:6},zip:{number:!0},phone:{phoneUS:!0},url:{url:!0}},submitHandler:function(e){e.submit()}}),$("#loginForm").validate({highlight:function(e){jQuery(e).closest(".form-group").removeClass("has-success").addClass("has-error")},success:function(e){jQuery(e).closest(".form-group").removeClass("has-error"),$("#validateForm").submit()},errorElement:"span",errorClass:"help-block jq-validate-error",rules:{password:{required:!0,minlength:6},zip:{number:!0},phone:{phoneUS:!0},url:{url:!0}},submitHandler:function(e){return 0==$("#email_verified").val()?!1:(e.submit(),void 0)}}),$("#VenueForm").validate({highlight:function(e){jQuery(e).closest(".form-group").removeClass("has-success").addClass("has-error")},success:function(e){jQuery(e).closest(".form-group").removeClass("has-error"),$("#validateForm").submit()},errorElement:"span",errorClass:"help-block jq-validate-error",rules:{password:{required:!0,minlength:6},zip:{number:!0},lat:{latlong:!0},lng:{latlong:!0},phone:{phoneUS:!0},url:{url:!0}},submitHandler:function(e){e.submit()}}),$.validator.addMethod("latlong",function(e,a){return this.optional(a)||e.match(/^(\-?\d+(\.\d+)?)$/)},"Please enter valid data"),$("#hosting-form").validate({highlight:function(e){jQuery(e).closest(".form-group").removeClass("has-success").addClass("has-error")},success:function(e){jQuery(e).closest(".form-group").removeClass("has-error"),$("#validateForm").submit()},errorElement:"span",errorClass:"help-block jq-validate-error",rules:{zip:{number:!0},phone:{phoneUS:!0},phone:{phoneUS:!0},url:{url:!0},starttime:{totalCheck:["starttime","start_date","event_time"]},start_date:{totalCheck:["starttime","start_date","event_time"]},event_time:{totalCheck:["starttime","start_date","event_time"]},uemail:{required:!0,remote:{url:base_url+"admin/hostings/check_email_validate/"+Math.random(),type:"post"}}},messages:{uemail:{remote:jQuery.validator.format("Please enter a valid user email address")}},submitHandler:function(e){return $("#email_verified").val(1),0==$("#email_verified").val()?!1:(e.submit(),void 0)}}),$.validator.addMethod("totalCheck",function(e,a){var r=new TimeShift.OriginalDate($(".event_range_start").val()+" "+$("#starttime").val()),t=new TimeShift.OriginalDate($("#endtime").val()),i=new TimeShift.OriginalDate($("#eventstarttime").data("eventstarttime")),s=new TimeShift.OriginalDate($("#eventendtime").data("eventendtime"));return console.log(i,r),console.log(r>=i),r>=i&&s>=t?this.optional(a)||!0:this.optional(a)||!1},"Hosting time should be within the bounds of event start and end date time"),$("#event-form").validate({highlight:function(e){jQuery(e).closest(".form-group").removeClass("has-success").addClass("has-error")},success:function(e){jQuery(e).closest(".form-group").removeClass("has-error")},errorElement:"span",errorClass:"help-block jq-validate-error",rules:{endtime:{required:!0}},submitHandler:function(e){e.submit()}});